<div class="root">
  <div class="header">
    <div class="header-links">
      <span class="header-link version-tag" nz-tooltip nzTooltipTitle="å½“å‰ç‰ˆæœ¬">
        v{{ version }}
      </span>
      <a href="https://github.com/wh131462/ngx-floating" target="_blank" class="header-link" nz-tooltip
         nzTooltipTitle="GitHubä»“åº“">
        <i nz-icon nzType="github" nzTheme="outline"></i>
      </a>
      <a href="https://www.npmjs.com/package/ngx-floating" target="_blank" class="header-link" nz-tooltip
         nzTooltipTitle="NPMåŒ…">
        <i nz-icon nzType="code-sandbox" nzTheme="outline"></i>
      </a>
    </div>
    <div class="header-content">
      <h1>NGX-FLOATING</h1>
      <p class="desc">A lightweight and powerful Angular floating UI solution</p>
    </div>
  </div>
  <nz-tabset [(nzSelectedIndex)]="selectedTabIndex">
    <nz-tab nzTitle="åŸºç¡€ç»„ä»¶">
      <nz-card class="demo-card">
        <section class="example">
          <div class="example-title">
            <h3>åŸºç¡€ç»„ä»¶ç”¨æ³•</h3>
            <span class="code-toggle" (click)="toggleCode('basic')">
              <i nz-icon [nzType]="showCodeMap['basic'] ? 'eye-invisible' : 'eye'" nzTheme="outline"></i>
            </span>
          </div>
          <div class="example-content" [hidden]="showCodeMap['basic']">
            <div class="range" #at1>
              <ngx-floating [at]="at1" [boundary]="at1" [movable]="true"
                            [offset]="{ right: 10, bottom: 10, inner: true}">
                <div class="box">å¯ç§»åŠ¨çš„æµ®åŠ¨æ¡†</div>
              </ngx-floating>
            </div>
          </div>
          @if (showCodeMap['basic']) {
            <div class="example-code">
              <nz-code-editor [ngModel]="codeMap['basic']" [nzEditorOption]="{readOnly: true}"></nz-code-editor>
            </div>
          }
        </section>
        <section class="example">
          <div class="example-title">
            <h3>æ‹–æ‹½å¥æŸ„ç”¨æ³•</h3>
            <span class="code-toggle" (click)="toggleCode('handler')">
      <i nz-icon [nzType]="showCodeMap['handler'] ? 'eye-invisible' : 'eye'" nzTheme="outline"></i>
    </span>
          </div>
          <div class="example-content" [hidden]="showCodeMap['handler']">
            <div class="range" #atHandler>
              <ngx-floating [at]="atHandler" [boundary]="atHandler" [movable]="true"
                            [handler]="'.drag-handle'"
                            [offset]="{ right: 10, bottom: 10, inner: true}">
                <div class="box">
                  <div class="drag-handle">ğŸ® æ‹–æ‹½è¿™é‡Œï¼ˆhandleræ¼”ç¤ºï¼‰</div>
                  <div>å…¶ä»–ä¸å¯æ‹–æ‹½å†…å®¹</div>
                </div>
              </ngx-floating>
            </div>
          </div>
          @if (showCodeMap['handler']) {
            <div class="example-code">
              <nz-code-editor [ngModel]="codeMap['handler']" [nzEditorOption]="{readOnly: true}"></nz-code-editor>
            </div>
          }
        </section>
      </nz-card>
    </nz-tab>
    <nz-tab nzTitle="é«˜çº§ç”¨æ³•">
      <nz-card class="demo-card">
        <section class="example">
          <div class="example-title">
            <h3>æ¨¡æ¿å¼•ç”¨æ–¹å¼</h3>
            <span class="code-toggle" (click)="toggleCode('template')">
              <i nz-icon [nzType]="showCodeMap['template'] ? 'eye-invisible' : 'eye'" nzTheme="outline"></i>
            </span>
          </div>
          <div class="example-content" [hidden]="showCodeMap['template']">
            <div class="range" #atTemplate>
              <ng-template #floatingContent>
                <div class="box">ä½¿ç”¨ng-templateçš„æµ®åŠ¨å†…å®¹</div>
              </ng-template>
              <ngx-floating [at]="atTemplate" [boundary]="atTemplate" [movable]="true" [content]="floatingContent"
                           [offset]="{ top: 10, left: 10, inner: true }">
              </ngx-floating>
            </div>
          </div>
          @if (showCodeMap['template']) {
            <div class="example-code">
              <nz-code-editor [ngModel]="codeMap['template']" [nzEditorOption]="{readOnly: true}"></nz-code-editor>
            </div>
          }
        </section>
        <section class="example">
          <div class="example-title">
            <h3>ç»„ä»¶å¼•ç”¨æ–¹å¼</h3>
            <span class="code-toggle" (click)="toggleCode('component')">
              <i nz-icon [nzType]="showCodeMap['component'] ? 'eye-invisible' : 'eye'" nzTheme="outline"></i>
            </span>
          </div>
          <div class="example-content" [hidden]="showCodeMap['component']">
            <div class="range" #atComponent>
              <ngx-floating [at]="atComponent" [boundary]="atComponent" [movable]="true" [content]="content"
                           [offset]="{ bottom: 10, right: 10, inner: true }">
              </ngx-floating>
            </div>
          </div>
          @if (showCodeMap['component']) {
            <div class="example-code">
              <nz-code-editor [ngModel]="codeMap['component']" [nzEditorOption]="{readOnly: true}"></nz-code-editor>
            </div>
          }
        </section>
      </nz-card>
    </nz-tab>
    <nz-tab nzTitle="æŒ‡ä»¤ç”¨æ³•">
      <nz-card class="demo-card">
        <section class="example">
          <div class="example-title">
            <h3>æŒ‡ä»¤ç”¨æ³•</h3>
            <span class="code-toggle" (click)="toggleCode('directive')">
              <i nz-icon [nzType]="showCodeMap['directive'] ? 'eye-invisible' : 'eye'" nzTheme="outline"></i>
            </span>
          </div>
          <div class="example-content" [hidden]="showCodeMap['directive']">
            <div class="range" #directiveTarget>
              <div class="box" [ngxFloating]="isMovable" [at]="directiveTarget"
                   [offset]="offset" [ignoreBoundary]="ignoreBoundary"
                   [handler]="'#directiveHandle'">
                <div id="directiveHandle" style="cursor: move; background: #f0f0f0; padding: 8px;">
                  ğŸ–±ï¸ æŒ‡ä»¤æ‹–æ‹½åŒºåŸŸ
                </div>
                <div>å†…å®¹åŒºåŸŸï¼ˆä¸å¯æ‹–æ‹½ï¼‰</div>
              </div>
              <div class="box" [ngxFloating]="isMovable" [at]="directiveTarget" [offset]="offset"
                   [ignoreBoundary]="ignoreBoundary">
                ä½¿ç”¨æŒ‡ä»¤çš„æµ®åŠ¨å…ƒç´ 
              </div>
              <div class="controls">
                <button nz-button nzType="default" (click)="isMovable = !isMovable">
                  {{ isMovable ? 'ç¦ç”¨' : 'å¯ç”¨' }}ç§»åŠ¨
                </button>
                <button nz-button nzType="default" (click)="ignoreBoundary = !ignoreBoundary">
                  {{ ignoreBoundary ? 'å¯ç”¨' : 'ç¦ç”¨' }}è¾¹ç•Œçº¦æŸ
                </button>
              </div>
            </div>
          </div>
          @if (showCodeMap['directive']) {
            <nz-code-editor [nzEditorOption]="{ language: 'html' }" [ngModel]="codeMap.directive" [disabled]="true"></nz-code-editor>
          }
        </section>
      </nz-card>
    </nz-tab>

    <nz-tab nzTitle="æœåŠ¡ç”¨æ³•">
      <nz-card class="demo-card">
        <section class="example">
          <div class="example-title">
            <h3>æœåŠ¡ç”¨æ³•</h3>
            <span class="code-toggle" (click)="toggleCode('service')">
              <i nz-icon [nzType]="showCodeMap['service'] ? 'eye-invisible' : 'eye'" nzTheme="outline"></i>
            </span>
          </div>
          <div class="example-content" [hidden]="showCodeMap['service']">
            <div class="range" #atService>
              <div class="controls">
                <button nz-button nzType="default" (click)="createByService(atService)">åˆ›å»ºæµ®åŠ¨å†…å®¹</button>
                <button nz-button nzType="default" (click)="controlServiceFloating('show')">æ˜¾ç¤º</button>
                <button nz-button nzType="default" (click)="controlServiceFloating('hide')">éšè—</button>
                <button nz-button nzType="default" (click)="controlServiceFloating('reset')">é‡ç½®</button>
                <button nz-button nzType="default" (click)="controlServiceFloating('updatePosition')">æ›´æ–°ä½ç½®</button>
              </div>
            </div>
          </div>
          @if (showCodeMap['service']) {
            <nz-code-editor [nzEditorOption]="{ language: 'html' }" [ngModel]="codeMap.service" [disabled]="true"></nz-code-editor>
          }
        </section>
      </nz-card>
    </nz-tab>

    <nz-tab nzTitle="ä½ç½®æ§åˆ¶">
      <nz-card class="demo-card">
        <section class="example">
          <div class="example-title">
            <h3>ä½ç½®æ§åˆ¶</h3>
            <span class="code-toggle" (click)="toggleCode('position')">
              <i nz-icon [nzType]="showCodeMap['position'] ? 'eye-invisible' : 'eye'" nzTheme="outline"></i>
            </span>
          </div>
          <div class="example-content" [hidden]="showCodeMap['position']">
            <h4>å†…éƒ¨å®šä½</h4>
            <div class="range" #atPosition>
              <ngx-floating [at]="atPosition" [boundary]="atPosition" [offset]="{ top: 10, left: 10 , inner:true}">
                <div class="box">å·¦ä¸Šè§’</div>
              </ngx-floating>
              <ngx-floating [at]="atPosition" [boundary]="atPosition" [offset]="{ top: 10, right: 10, inner:true }">
                <div class="box">å³ä¸Šè§’</div>
              </ngx-floating>
              <ngx-floating [at]="atPosition" [boundary]="atPosition" [offset]="{ bottom: 10, left: 10 , inner:true}">
                <div class="box">å·¦ä¸‹è§’</div>
              </ngx-floating>
              <ngx-floating [at]="atPosition" [boundary]="atPosition" [offset]="{ bottom: 10, right: 10 , inner:true}">
                <div class="box">å³ä¸‹è§’</div>
              </ngx-floating>
            </div>
            <h4>å¤–éƒ¨å®šä½</h4>
            <div class="range" [style.width.%]="currentOuterWidth">
              <div class="point" #atRelative></div>
              <ngx-floating [at]="atRelative" [offset]="{ top: -50, left: -200 }">
                <div class="box">ç›¸å¯¹äºå·¦ä¸Šè§’</div>
              </ngx-floating>
              <ngx-floating [at]="atRelative" [offset]="{ top: -50, right: 200}">
                <div class="box">ç›¸å¯¹äºå³ä¸Šè§’</div>
              </ngx-floating>
              <ngx-floating [at]="atRelative" [offset]="{ bottom: 50, left: -200 }">
                <div class="box">ç›¸å¯¹äºå·¦ä¸‹è§’</div>
              </ngx-floating>
              <ngx-floating [at]="atRelative" [offset]="{ bottom: 50, right: 200 }">
                <div class="box">ç›¸å¯¹äºå³ä¸‹è§’</div>
              </ngx-floating>
            </div>
            <nz-slider [(ngModel)]="currentOuterWidth" [nzMin]="0" [nzMax]="100"></nz-slider>
          </div>
          @if (showCodeMap['position']) {
            <nz-code-editor [nzEditorOption]="{ language: 'html' }" [ngModel]="codeMap.position" [disabled]="true"></nz-code-editor>
          }
        </section>
      </nz-card>
    </nz-tab>

    <nz-tab nzTitle="è‡ªå®šä¹‰æ ·å¼">
      <nz-card class="demo-card">
        <section class="example">
          <div class="example-title">
            <h3>è‡ªå®šä¹‰æ ·å¼</h3>
            <span class="code-toggle" (click)="toggleCode('custom')">
              <i nz-icon [nzType]="showCodeMap['custom'] ? 'eye-invisible' : 'eye'" nzTheme="outline"></i>
            </span>
          </div>
          <div class="example-content" [hidden]="showCodeMap['custom']">
            <div class="range" #atCustom>
              <ngx-floating #floatingCustom [at]="atCustom" [offset]="{ top: 50, left: 50 , inner: true}"
                            class="custom-floating">
                <div class="box custom">
                  <h4>è‡ªå®šä¹‰æ ·å¼</h4>
                  <p>å¯ä»¥é€šè¿‡CSSè‡ªå®šä¹‰æµ®åŠ¨ç»„ä»¶çš„æ ·å¼</p>
                </div>
              </ngx-floating>
              <div class="controls">
                <button nz-button nzType="default"
                        (click)="floatingCustom.movable = !floatingCustom.movable; ">{{ floatingCustom.movable ? "å…³é—­" : "å¼€å¯" }}
                  ç§»åŠ¨
                </button>
                <button nz-button nzType="default"
                        (click)="toggleFloatingCustomBoundary(floatingCustom,atCustom)">{{ floatingCustom.hasBoundary ? "å…³é—­" : "å¼€å¯" }}
                  è¾¹ç•Œ
                </button>
                <button nz-button nzType="default" (click)="floatingCustom.show()">æ˜¾ç¤º</button>
                <button nz-button nzType="default" (click)="floatingCustom.hide()">éšè—</button>
                <button nz-button nzType="default" (click)="floatingCustom.reset()">é‡ç½®</button>
              </div>
            </div>
          </div>
          @if (showCodeMap['custom']) {
            <nz-code-editor [nzEditorOption]="{ language: 'html' }" [ngModel]="codeMap.custom" [disabled]="true"></nz-code-editor>
          }
        </section>
      </nz-card>
    </nz-tab>

  </nz-tabset>

  <nz-card class="api-card">
    <section class="api">
      <div class="api-title">
        <h3>ç»„ä»¶ API</h3>
      </div>
      <div class="api-content">
        <h4>å±æ€§</h4>
        <table>
          <thead>
          <tr>
            <th>å±æ€§å</th>
            <th>ç±»å‹</th>
            <th>é»˜è®¤å€¼</th>
            <th>è¯´æ˜</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>at</td>
            <td>HTMLElement</td>
            <td>å¿…å¡«</td>
            <td>ç›®æ ‡å®šä½å…ƒç´ </td>
          </tr>
          <tr>
            <td>handler</td>
            <td>string | HTMLElement</td>
            <td>undefined</td>
            <td>æ‹–æ‹½å¥æŸ„å…ƒç´ é€‰æ‹©å™¨æˆ–DOMå…ƒç´ ï¼Œæœªè®¾ç½®æ—¶æ•´ä¸ªç»„ä»¶å¯æ‹–æ‹½</td>
          </tr>
          <tr>
            <td>movable</td>
            <td>boolean</td>
            <td>false</td>
            <td>æ˜¯å¦å¯æ‹–æ‹½</td>
          </tr>
          <tr>
            <td>offset</td>
            <td>FloatingOffset</td>
            <td>&#123; top: 0 &#125;</td>
            <td>ä½ç½®åç§»é…ç½®</td>
          </tr>
          <tr>
            <td>boundary</td>
            <td>HTMLElement</td>
            <td>documentElement</td>
            <td>ç§»åŠ¨è¾¹ç•Œå…ƒç´ </td>
          </tr>
          <tr>
            <td>ignoreBoundary</td>
            <td>boolean</td>
            <td>false</td>
            <td>æ˜¯å¦å¿½ç•¥è¾¹ç•Œçº¦æŸ</td>
          </tr>
          <tr>
            <td>zIndex</td>
            <td>number</td>
            <td>2</td>
            <td>æµ®åŠ¨å…ƒç´ çš„å±‚çº§</td>
          </tr>
          <tr>
            <td>isVisible</td>
            <td>boolean</td>
            <td>true</td>
            <td>æ§åˆ¶å¯è§æ€§</td>
          </tr>
          </tbody>
        </table>

        <h4>æ–¹æ³•</h4>
        <table>
          <thead>
          <tr>
            <th>æ–¹æ³•å</th>
            <th>è¯´æ˜</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>show()</td>
            <td>æ˜¾ç¤ºæµ®åŠ¨å…ƒç´ </td>
          </tr>
          <tr>
            <td>hide()</td>
            <td>éšè—æµ®åŠ¨å…ƒç´ </td>
          </tr>
          <tr>
            <td>reset()</td>
            <td>é‡ç½®ä½ç½®åˆ°åˆå§‹çŠ¶æ€</td>
          </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="api">
      <div class="api-title">
        <h3>æœåŠ¡ API</h3>
      </div>
      <div class="api-content">
        <h4>æ–¹æ³•</h4>
        <table>
          <thead>
          <tr>
            <th>æ–¹æ³•å</th>
            <th>å‚æ•°</th>
            <th>è¯´æ˜</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>create</td>
            <td>(id: string, options: NgxFloatingServiceOptions)</td>
            <td>åˆ›å»ºæµ®åŠ¨å®ä¾‹</td>
          </tr>
          <tr>
            <td>destroy</td>
            <td>(id: string)</td>
            <td>é”€æ¯æµ®åŠ¨å®ä¾‹</td>
          </tr>
          <tr>
            <td>show</td>
            <td>(id: string)</td>
            <td>æ˜¾ç¤ºæµ®åŠ¨å…ƒç´ </td>
          </tr>
          <tr>
            <td>hide</td>
            <td>(id: string)</td>
            <td>éšè—æµ®åŠ¨å…ƒç´ </td>
          </tr>
          <tr>
            <td>reset</td>
            <td>(id: string)</td>
            <td>é‡ç½®ä½ç½®åˆ°åˆå§‹çŠ¶æ€</td>
          </tr>
          <tr>
            <td>get</td>
            <td>(id: string)</td>
            <td>è·å–æµ®åŠ¨å®ä¾‹</td>
          </tr>
          </tbody>
        </table>
      </div>
    </section>
  </nz-card>

</div>
