<div class="root">
  <div class="header">
    <h1>NGX-FLOATING</h1>
    <p class="desc">A lightweight and powerful Angular floating UI solution</p>
  </div>
  <nz-tabset [(nzSelectedIndex)]="selectedTabIndex">
    <nz-tab nzTitle="基础组件">
      <nz-card class="demo-card">
        <section class="example">
          <div class="example-title">
            <h3>基础组件用法</h3>
          </div>
          <div class="example-content">
            <div class="range" #at1>
              <ngx-floating [at]="at1" [boundary]="at1" [movable]="true"
                            [offset]="{ right: 10, bottom: 10, inner: true}">
                <div class="box">可移动的浮动框</div>
              </ngx-floating>
            </div>
          </div>
          <nz-code-editor [lang]="'html'" [ngModel]="codeMap.basic" [disabled]="true"></nz-code-editor>
        </section>
      </nz-card>
    </nz-tab>

    <nz-tab nzTitle="指令用法">
      <nz-card class="demo-card">
        <section class="example">
          <div class="example-title">
            <h3>指令用法</h3>
          </div>
          <div class="example-content">
            <div class="range" #directiveTarget>
              <div class="box" [ngxFloating]="true" [movable]="isMovable" [at]="directiveTarget" [offset]="offset"
                   [ignoreBoundary]="ignoreBoundary">
                使用指令的浮动元素
              </div>
              <div class="controls">
                <button nz-button nzType="default" (click)="isMovable = !isMovable">
                  {{ isMovable ? '禁用' : '启用' }}移动
                </button>
                <button nz-button nzType="default" (click)="ignoreBoundary = !ignoreBoundary">
                  {{ ignoreBoundary ? '启用' : '禁用' }}边界约束
                </button>
              </div>
            </div>
          </div>
          <nz-code-editor [lang]="'html'"  [ngModel]="codeMap.directive" [disabled]="true"></nz-code-editor>
        </section>
      </nz-card>
    </nz-tab>

    <nz-tab nzTitle="服务用法">
      <nz-card class="demo-card">
        <section class="example">
          <div class="example-title">
            <h3>服务用法</h3>
          </div>
          <div class="example-content">
            <div class="range" #at2>
              <div class="box">通过服务创建的浮动组件</div>
              <div class="controls">
                <button nz-button nzType="default" (click)="selectTab(0)">查看基础组件</button>
                <button nz-button nzType="default" (click)="selectTab(1)">查看指令用法</button>
              </div>
            </div>
          </div>
          <nz-code-editor [ngModel]="codeMap.service" [disabled]="true"></nz-code-editor>
        </section>
      </nz-card>
    </nz-tab>

    <nz-tab nzTitle="位置控制">
      <nz-card class="demo-card">
        <section class="example">
          <div class="example-title">
            <h3>位置控制</h3>
          </div>
          <div class="example-content">
            <div class="range" #at3>
              <ngx-floating [at]="at3" [boundary]="at3" [offset]="{ top: 10, left: 10 , inner:true}">
                <div class="box">左上角</div>
              </ngx-floating>
              <ngx-floating [at]="at3" [boundary]="at3" [offset]="{ top: 10, right: 10, inner:true }">
                <div class="box">右上角</div>
              </ngx-floating>
              <ngx-floating [at]="at3" [boundary]="at3" [offset]="{ bottom: 10, left: 10 , inner:true}">
                <div class="box">左下角</div>
              </ngx-floating>
              <ngx-floating [at]="at3" [boundary]="at3" [offset]="{ bottom: 10, right: 10 , inner:true}">
                <div class="box">右下角</div>
              </ngx-floating>
            </div>
          </div>
          <nz-code-editor [ngModel]="codeMap.position" [disabled]="true"></nz-code-editor>
        </section>
      </nz-card>
    </nz-tab>

    <nz-tab nzTitle="自定义样式">
      <nz-card class="demo-card">
        <section class="example">
          <div class="example-title">
            <h3>自定义样式</h3>
          </div>
          <div class="example-content">
            <div class="range" #at4 [attr.data-movable]="false">
              <ngx-floating [at]="at4" [movable]="at4.getAttribute('data-movable')!"
                            [offset]="{ top: 50, left: 50 , inner: true}" class="custom-floating">
                <div class="box custom">
                  <h4>自定义样式</h4>
                  <p>可以通过CSS自定义浮动组件的样式</p>
                </div>
              </ngx-floating>
            </div>
          </div>
          <nz-code-editor [ngModel]="codeMap.custom" [disabled]="true"></nz-code-editor>
        </section>
      </nz-card>
    </nz-tab>

    <nz-tab nzTitle="联动控制">
      <nz-card class="demo-card">
        <section class="example">
          <div class="example-title">
            <h3>联动控制</h3>
          </div>
          <div class="example-content">
            <div class="range">
              <div class="controls">
                <button (click)="toggleAllFloating()">显示/隐藏所有</button>
              </div>
              <div class="at-point" #at5></div>
              <ngx-floating [at]="at5" [offset]="{ top: 30, left: 30 }" #floating1>
                <div class="box">浮动组件1</div>
              </ngx-floating>
              <ngx-floating [at]="at5" [offset]="{ top: 80, left: 80 }" #floating2>
                <div class="box">浮动组件2</div>
              </ngx-floating>
              <ngx-floating [at]="at5" [offset]="{ top: 0, left: 0 }" #floating3>
                <div class="box">浮动组件3</div>
              </ngx-floating>
            </div>
          </div>
          <nz-code-editor [ngModel]="codeMap.linkage" [disabled]="true"></nz-code-editor>
        </section>
      </nz-card>
    </nz-tab>
  </nz-tabset>

</div>
